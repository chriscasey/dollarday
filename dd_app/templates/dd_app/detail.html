{% extends 'dd_app/base.html' %}
{% load render_table from django_tables2 %}
{% load staticfiles %}


{% block bootstrap3_extra_head %}
{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static "dd_app/css/main.css" %}" />
<script src = {% static "dd_app/js/d3.min.js" %}> </script>
<script src = {% static "dd_app/js/graphs.js" %}> </script>

<br/>
<ol class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/raceday/{{race.day.id}}">Race List</a></li>
  <li class="active">Race Details</li>
</ol>

<div class="row">
	<div class="col-md-12">
		<h2>Race {{race.race_number}} ({{race.day}})</h2>
	</div>

<div class="row">
	<div class="col-md-10">
		{% render_table table %}
	</div>
	<div class="col-md-2">
	    <h4>Score Summary</h4>
	    <table class="table table-striped table-condensed">
	    	<tr><td><b>min score:</b> {{ min_score }}</td></tr>
	    	<tr><td><b>max score:</b> {{ max_score }}</td></tr>
	    	<tr><td><b>mean:</b> {{mean}}</td></tr>
	    	<tr><td><b>mean deviation:</b> {{mean_dev}}</td></tr>
	    	<tr><td><b>stdev:</b> {{stdev}}</td></tr>
	    </table>
	</div>
</div>

<div class="row">
  	<div class="col-md-6" id="pie_chart">
  		<script type="text/javascript">createPieChart({{race.id}})</script>
  	</div>
<!--   	<div class="col-md-6" id="distribution_chart">
		<script type="text/javascript">createDistributionChart({{race.id}})</script>
	</div> -->
	<div class="col-md-6" id="scatterplot_graph">
		<script type="text/javascript">createScatterplot({{race.id}})</script>
	</div>
</div>

{% endblock %}

